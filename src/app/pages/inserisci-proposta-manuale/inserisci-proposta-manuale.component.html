<!-- Wrapper con sfondo moderno -->
<div class="page-wrapper">

  <div class="container-form">

    <h2>Inserisci offerta manuale</h2>
    <p class="subtitle">
      Inserisci un'offerta ricevuta di persona o fuori dall'applicazione.
    </p>

    <!-- Sezione animazione omino che aspetta -->
    <div class="waiting-animation">
      <div class="waiting-icon">üßë‚Äçüíº</div>
      <div class="waiting-text">
        In attesa dei dati<span class="dots"><span></span><span></span><span></span></span>
      </div>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()">

      <!-- Campo Importo Offerta -->
      <label class="required">Importo offerta (‚Ç¨)</label>
      <input
        type="text"
        class="input-field highlight"
        formControlName="prezzoProposta"
        appCurrencyInput
        placeholder="Es. 150.000" />

      @if (form.get('prezzoProposta')?.touched && form.get('prezzoProposta')?.invalid) {
        <div class="error">
          Inserisci un importo valido
        </div>
      }

      <!-- Campo Nome Cliente -->
      <label class="required">Nome cliente</label>
      <input
        type="text"
        class="input-field"
        formControlName="nomeCliente"
        placeholder="Nome e cognome" />

      @if (form.get('nomeCliente')?.touched && form.get('nomeCliente')?.invalid) {
        <div class="error">
          Inserisci un nome valido (minimo 2 caratteri)
        </div>
      }

      <!-- Campo Contatto Cliente -->
      <label class="required">Contatto cliente</label>
      <input
        type="text"
        class="input-field"
        formControlName="contattoCliente"
        placeholder="Telefono o email" />

      @if (form.get('contattoCliente')?.touched && form.get('contattoCliente')?.invalid) {
        <div class="error">
          Inserisci un contatto valido (minimo 5 caratteri)
        </div>
      }

      <!-- Campo Note -->
      <label>Note <span class="optional">(opzionale)</span></label>
      <textarea
        class="input-field"
        formControlName="note"
        placeholder="Aggiungi eventuali dettagli o informazioni aggiuntive..."
        rows="4"></textarea>
      <small class="hint">Puoi aggiungere informazioni extra sull'offerta</small>

      <!-- Campo Data Offerta -->
      <label class="required">Data offerta</label>
      <input
        type="date"
        class="input-field"
        formControlName="dataOfferta" />

      @if (form.get('dataOfferta')?.touched && form.get('dataOfferta')?.invalid) {
        <div class="error">
          Seleziona una data valida
        </div>
      }

      <!-- Action Buttons -->
      <div class="actions">
        <button
          type="submit"
          [disabled]="form.invalid">
          üíæ Salva offerta
        </button>

        <button
          type="button"
          (click)="annulla()">
          Annulla
        </button>
      </div>

    </form>
  </div>

</div>
