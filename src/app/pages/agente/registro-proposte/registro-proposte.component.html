<div class="container">

  <h1>Registro proposte</h1>

  <!-- Loader -->
  @if (loading) {
    <div class="spinner-wrapper">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
  }

  <!-- Nessuna proposta -->
  @if (!loading && registro.length === 0) {
    <p class="empty">
      Nessuna proposta nello storico.
    </p>
  }

  <!-- ===================== ACCETTATE ===================== -->
  @if (!loading && proposteAccettate.length > 0) {
    <h3 class="sottotitolo success">Proposte accettate</h3>

    @for (p of proposteAccettate; track p.idProposta) {
      <div class="card accettata">

        <div class="card-header">
          <h4>{{ p.titoloInserzione }}</h4>
          <span class="badge accettata">Accettata</span>
        </div>

        <div class="info">
          <p><strong>Offerta:</strong>
            {{ p.importo | currency:'EUR':'symbol':'1.0-0':'it' }}
          </p>

          <p><strong>Data:</strong>
            {{ p.dataCreazione | date:'dd/MM/yyyy' }}
          </p>
        </div>
      </div>
    }
  }

  <!-- ===================== RIFIUTATE ===================== -->
  @if (!loading && proposteRifiutate.length > 0) {
    <h3 class="sottotitolo muted">Proposte rifiutate</h3>

    @for (p of proposteRifiutate; track p.idProposta) {
      <div class="card rifiutata">

        <div class="card-header">
          <h4>{{ p.titoloInserzione }}</h4>
          <span class="badge rifiutata">Rifiutata</span>
        </div>

        <div class="info">
          <p><strong>Offerta:</strong>
            {{ p.importo | currency:'EUR':'symbol':'1.0-0':'it' }}
          </p>

          <p><strong>Data:</strong>
            {{ p.dataCreazione | date:'dd/MM/yyyy' }}
          </p>
        </div>
      </div>
    }
  }

</div>
